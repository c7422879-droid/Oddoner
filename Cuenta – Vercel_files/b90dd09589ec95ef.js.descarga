;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="1ee9565c-4b5e-c695-2e4e-0d28e496ccf1")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4905664,e=>{"use strict";var t=e.i(539392),i=e.i(870429);function n(e,t){let i=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return i<0?-1:i>0?1:i}e.s(["differenceInDays",0,function(e,s,r){let[a,l]=(0,t.normalizeDates)(r?.in,e,s),o=n(a,l),c=Math.abs((0,i.differenceInCalendarDays)(a,l));a.setDate(a.getDate()-o*c);let d=Number(n(a,l)===-o),u=o*(c-d);return 0===u?0:u}])},613694,e=>{"use strict";var t=e.i(4905664),i=e.i(3738416);e.s(["prorateAmount",0,function(e,n,s){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date;if(!n||!s)return e;let a=(0,t.differenceInDays)(s.end,s.start);return Math.round(e*Math.min(1,(0,t.differenceInDays)(s.end,function(e,t){let n=(0,i.startOfDay)(t),[s,r]=n.toLocaleDateString("en-US",{timeZone:e,timeZoneName:"longOffset",day:"2-digit",month:"2-digit",year:"numeric"}).split(", "),[a,l,o]=[(n.getMonth()+1).toString().padStart(2,"0"),n.getDate().toString().padStart(2,"0"),n.getFullYear()],c=r.replace("GMT","");return new Date(`${o}-${a}-${l}T00:00:00.00${c}`)}("America/Los_Angeles",r))/a))}])},3343142,e=>{"use strict";var t=e.i(8042625),i=e.i(277234),n=e.i(4244280),s=e.i(8248823);let r=async e=>{let r,{data:a}=e,l=(r=new Map,a.fields.forEach(e=>{switch(e.type){case"text":if(!e.value)return;r.set(e.id,e.value);break;case"select":{let t=[];e.options.forEach(e=>{if(e.selected){if(e.reveals)return void t.push(`${e.id}: ${e.reveals.value??""}`);t.push(e.id)}}),r.set(e.id,t.join("; "));break}default:(0,s.exhaustivenessCheck)(e)}}),{name:a.surveyName,person:{email:a.user?.email,id:a.user?.uid},...a.team?.id&&{team:{id:a.team.id}},form:Object.fromEntries(r)});try{return await (0,i.fetchAPI)(`${n.API_SURVEYS}${(0,t.encode)({teamId:l.team?.id})}`,{method:"POST",body:JSON.stringify(l)})}catch(e){console.error(e)}};e.s(["createSurveyEntry",0,r])},2151290,e=>{e.v({container:"index-module__L77N5G__container",icon:"index-module__L77N5G__icon"})},9736132,e=>{"use strict";var t=e.i(7292788),i=e.i(5255926),n=e.i(4585051),s=e.i(1138941),r=e.i(2151290),a=e.i(9722978);function l(e){let{size:n=24}=e;return(0,t.jsx)(i.Skeleton,{height:n,rounded:!0,style:{flexShrink:0},width:24})}e.s(["FrameworkAvatar",0,function(e){let{project:i,size:o=24,isDisabled:c=!1}=e,d=(0,s.useFramework)(i);return d?(0,t.jsx)(n.Avatar,{className:(0,a.clsx)(r.default.icon,c&&"grayscale(100%) opacity-40"),size:o,src:d.logo,title:`${d.name}`}):(0,t.jsx)(l,{})},"FrameworkAvatarSkeleton",0,l])},6998974,e=>{"use strict";let t={"speedInsights.sampling":new Set([1]),"billing.proratedAddOns":new Set([2])};e.s(["billingFeatureSupported",0,function(e,i){let n;if(!e)return!1;if("plan"in e)n=e;else{if(!e.billing)return!1;n=e.billing}return t[i].has(n.billingVersion)}])},7982125,e=>{e.v({fixedHeight:"index-module__aVxx7q__fixedHeight"})},8548383,3515598,9773598,7719396,e=>{"use strict";var t=e.i(7292788),i=e.i(7557283);function n(e,t){let i=s[e];return"string"==typeof i?i:t?i[t]??i.modal:i.fieldset}let s={passwordProtection:"Advanced Deployment Protection",concurrentBuilds:{fieldset:"Additional Concurrent Builds",modal:"Concurrent Builds"},previewDeploymentSuffix:"Preview Deployment Suffix",analytics:"Speed Insights",monitoring:"Monitoring",observabilityBase:{postConfirmConfiguration:"Configure Observability Plus",fieldset:"Observability Plus",modal:"Observability Plus"},webAnalytics:"Web Analytics Plus",saml:"SAML SSO",hipaaAddon:"HIPAA BAA",onDemandConcurrentBuilds:"On-Demand Concurrent Builds",microfrontendsProject:"Microfrontends Projects",bulkRedirect:"Bulk Redirects",securityPlus:"Security Plus"},r={passwordProtection:"Allows you to provide fine-grained control over who can access your deployments. Includes Password Protection, Deployment Protection Exceptions, and Private Production Deployments for all projects.",concurrentBuilds:"Determines how many builds you can run at the same time. By increasing the number ($50 per Slot, per month), you are increasing the level of concurrency (maximum 12).",previewDeploymentSuffix:(0,t.jsxs)(t.Fragment,{children:["Choose your own custom domain for Preview Deployments, in place of the default ",(0,t.jsx)("code",{children:".vercel.app"})," suffix."]}),analytics:"Detailed view of your website's performance metrics, facilitating informed decisions for its optimization.",monitoring:"Monitoring is a query editor that allows you to visualize errors, debug bandwidth issues, and monitor usage and web traffic for the past 30 days.",observabilityBase:"Gain comprehensive visibility into your application's health and performance.",webAnalytics:"Get more insights on your website's visitors with a longer reporting window, more custom event properties, and advanced UI features.",saml:"Enable SAML Single Sign-On (SSO) for your team to provide secure, centralized authentication through your identity provider.",hipaaAddon:"Enter into a Business Associate Agreement (BAA) with Vercel to enable storing, processing, or transmitting Protected Health Information (PHI) in compliance with HIPAA.",onDemandConcurrentBuilds:"On-Demand concurrent builds provides dynamic scaling of builds, allowing projects to temporarily increase their build capacity when needed.",microfrontendsProject:"Build and compose independent applications as a single experience for users.",bulkRedirect:"Increase the max number of redirects that can be added to your projects.",securityPlus:"Enable Security Plus to protect your applications from common security threats."},a={passwordProtection:i.Resource.PasswordProtection,concurrentBuilds:i.Resource.ConcurrentBuilds,previewDeploymentSuffix:i.Resource.PreviewDeploymentSuffix,analytics:i.Resource.SpeedInsights,monitoring:i.Resource.MonitoringSettings,observabilityBase:i.Resource.ObservabilityConfiguration,webAnalytics:i.Resource.WebAnalytics,saml:i.Resource.BillingInformation,hipaaAddon:i.Resource.BillingInformation,onDemandConcurrentBuilds:i.Resource.ConcurrentBuilds,microfrontendsProject:i.Resource.TeamMicrofrontends,bulkRedirect:i.Resource.BillingPlan,securityPlus:i.Resource.SecurityPlusConfiguration};e.s(["ADD_ON_DESCRIPTIONS",0,r,"ADD_ON_DISPLAY_NAMES",0,s,"ADD_ON_IDS",0,{passwordProtection:"advanced-deployment-protection",concurrentBuilds:"concurrent-builds",previewDeploymentSuffix:"preview-deployment-suffix",analytics:"speed-insights",monitoring:"monitoring",observabilityBase:"observability",webAnalytics:"web-analytics",saml:"saml-sso",hipaaAddon:"hipaa-baa",onDemandConcurrentBuilds:"on-demand-concurrent-builds",microfrontendsProject:"microfrontends-project",bulkRedirect:"bulk-redirect",securityPlus:"security-plus"},"ADD_ON_LEARN_MORE_LINKS",0,{passwordProtection:"/docs/security/deployment-protection#advanced-deployment-protection",concurrentBuilds:"/docs/deployments/concurrent-builds",previewDeploymentSuffix:"/docs/deployments/generated-urls#preview-deployment-suffix",analytics:"/docs/speed-insights",monitoring:"/docs/observability/monitoring",observabilityBase:"/docs/observability",webAnalytics:"/docs/analytics",saml:"/docs/saml",hipaaAddon:"/docs/security/shared-responsibility",onDemandConcurrentBuilds:"/docs/builds/managing-builds#on-demand-concurrent-builds",microfrontendsProject:"/docs/microfrontends",bulkRedirect:"/docs/redirects#bulk-redirects",securityPlus:"/docs/security/security-plus"},"ADD_ON_PERMISSIONS",0,a,"getAddOnDisplayName",0,n],8548383);var l=e.i(6891161),o=e.i(7982125);e.s(["DisableModalBody",0,function(e){let{name:i,disable:s,closeModal:r,loading:a,customCopy:c,overrideContent:d,invoiceItem:u,newQuantity:m,includedQuantity:f}=e,p=m===(f??0);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(l.Modal.Body,{className:"analytics"===i?o.default.fixedHeight:void 0,children:[(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-initial pb-4",children:(0,t.jsxs)(l.Modal.Title,{children:[p?"Turn off":"Decrease"," ",n(i)]})}),d??(0,t.jsx)(l.Modal.Subtitle,{children:(0,t.jsxs)("span",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial pt-2 my-4",style:{margin:0},children:[p?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{className:"text-copy-14",children:["Your team is currently utilizing"," ",(0,t.jsx)("b",{children:n(i)}),"."]}),(0,t.jsx)("p",{className:"text-copy-14",children:c??"Disabling it will prevent your team members from accessing it in the dashboard and turn off any related functionality immediately."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{className:"text-copy-14",children:["By clicking ",(0,t.jsx)("b",{children:"Confirm"}),", your team will update from having"," ",(0,t.jsxs)("b",{children:[u.quantity," ",n(i,"configure")]})," ","to having"," ",(0,t.jsxs)("b",{children:[m," ",n(i,"configure")]}),"."]}),(0,t.jsx)("p",{className:"text-copy-14",children:"This is effective immediately upon confirmation."})]}),(0,t.jsx)("p",{className:"text-copy-14",children:"Are you sure you want to proceed?"})]})})]}),(0,t.jsxs)(l.Modal.Actions,{children:[(0,t.jsx)(l.Modal.Action,{fullWidth:!!d,onClick:()=>r("disable"),type:"secondary",children:"Cancel"}),d?null:(0,t.jsx)(l.Modal.Action,{buttonType:"button",loading:a,onClick:s,children:"Confirm"})]})]})}],3515598);var c=e.i(8583659),d=e.i(6143247),u=e.i(9358876),m=e.i(2466450),f=e.i(613694);let p="Confirm and Pay";e.s(["ConfirmationInvoice",0,function(e){let{lineItems:i,currency:n,nonProratedCustomCopy:s,customCopy:r,invoiceItem:a,name:l,addOnValue:o,prorate:g,billingPeriod:y,unit:h,includedQuantity:b,confirmLabel:x=p}=e,v=(0,c.useMemo)(()=>{if("analytics"===l)return o.map(e=>({name:e.name,price:a.price}));if(b){let e=Math.max(o-a.quantity,0);if(e>0)return[...i,{name:`${e} additional ${(0,u.pluralize)(h??"item",e)}`,price:a.price*e}]}return i},[o,b,a,i,l,h]),{subscriptionQuantityDelta:j,immediateQuantityDelta:C}=(0,c.useMemo)(()=>{if("analytics"===l){let e=o.filter(e=>{let t=e.speedInsights??e.analytics,i=t?.disabledAt;return!i||!y||i<=y.start});return{subscriptionQuantityDelta:o.length,immediateQuantityDelta:e.length}}let e=1;return"number"==typeof o&&(e=o),{subscriptionQuantityDelta:e-a.quantity,immediateQuantityDelta:e-(a.highestQuantity??a.quantity)}},[o,y,a.highestQuantity,a.quantity,l]),w=j*a.price,P=(0,f.prorateAmount)(C*a.price,g,y),A=(0,c.useMemo)(()=>{if(!g)return(0,t.jsxs)(t.Fragment,{children:["By clicking ",(0,t.jsx)("b",{children:x}),", the amount of"," ",(0,t.jsx)("b",{children:(0,m.formatCurrency)(w,n)})," will be added to your invoice",s??".",r]});let e=(0,t.jsxs)(t.Fragment,{children:["By clicking ",(0,t.jsx)("b",{children:x}),", the amount of"," ",(0,t.jsx)("b",{children:(0,m.formatCurrency)(w,n)})," will be added to your subscription"]});return 0===P?(0,t.jsxs)(t.Fragment,{children:[e,". ",r]}):P>0?(0,t.jsxs)(t.Fragment,{children:[e," and your credit card will be charged"," ",(0,t.jsxs)("b",{children:[(0,m.formatCurrency)(P,n)," immediately"]})," for the remaining days in your billing cycle.",r]}):(0,t.jsxs)(t.Fragment,{children:[e," and there will be no immediate charge because you have already enabled this within your current billing cycle.",r]})},[n,s,r,P,g,w,x]);return(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"py-2",children:A}),v.map(e=>{let{name:i,price:s,removal:r=!1,priceDescriptor:l="/ month",shortDescription:o,discountPrice:c,discountDescriptor:u}=e,f=void 0!==c;return(0,t.jsxs)("div",{className:"flex flex-col py-4 border-b border-b-gray-400 text-sm text-gray-800",children:[(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("span",{className:(0,d.cn)("font-medium mr-auto",r&&"line-through"),children:i}),f?(0,t.jsxs)("div",{className:"inline-flex gap-1 text-blue-700 font-medium",children:[(0,t.jsx)("span",{children:(0,m.formatCurrency)(c,n)}),u]}):null,(0,t.jsxs)("div",{className:"inline-flex gap-1",children:[(0,t.jsx)("span",{className:(0,d.cn)((r||f)&&"line-through"),children:(0,m.formatCurrency)("from_invoice_item"===s?a.price:s,n)}),l]})]},i),o]},i)}),(0,t.jsxs)("div",{className:"flex py-4 gap-1 text-sm font-medium",children:[(0,t.jsx)("span",{className:"mr-auto",children:"Total"}),(0,t.jsxs)("span",{children:[(0,m.formatCurrency)(w,n)," / month"]})]}),(0,t.jsx)("span",{className:"text-xs text-right text-gray-900",children:"* Plus applicable tax and fees"})]})},"defaultConfirmLabel",0,p],9773598);var g=e.i(6352514),y=e.i(4759942);let h={toggle_on:g.AnalyticsEvent.ADD_ONS_TOGGLE_ENABLE_CLICKED,toggle_off:g.AnalyticsEvent.ADD_ONS_TOGGLE_DISABLE_CLICKED,open_update_modal:g.AnalyticsEvent.ADD_ONS_OPEN_UPDATE_MODAL,learn_more:g.AnalyticsEvent.ADD_ONS_LEARN_MORE_CLICKED,exit_modal:g.AnalyticsEvent.ADD_ONS_MODAL_EXITED,change_step:g.AnalyticsEvent.ADD_ONS_MODAL_STEP_CHANGED,enable:g.AnalyticsEvent.ADD_ONS_ENABLED,update:g.AnalyticsEvent.ADD_ONS_UPDATED,disable:g.AnalyticsEvent.ADD_ONS_DISABLED,more_details:g.AnalyticsEvent.ADD_ONS_MORE_DETAILS_EXPANDED,project_list_cta:g.AnalyticsEvent.ADD_ONS_PROJECT_LIST_CTA_CLICKED};e.s(["trackAddOnEvent",0,e=>{let{eventName:t,addOn:i,source:n,step:r,value:a}=e,l=h[t],o=s[i];y.analytics.track(l,{addOn:"string"==typeof o?o:o.modal,source:n,step:r,value:a})}],7719396)},364898,9477971,e=>{"use strict";var t=e.i(7292788),i=e.i(8583659),n=e.i(6891161),s=e.i(455575),r=e.i(7917902),a=e.i(1412448),l=e.i(2466450);e.i(1585898);var o=e.i(2066827),c=e.i(3343142),d=e.i(6998974),u=e.i(8548383),m=e.i(3515598),f=e.i(9773598),p=e.i(2064047),g=e.i(57106),y=e.i(4450694),h=e.i(7719396),b=e.i(9736132),x=e.i(2151290),v=e.i(9722978);function j(e){let{addOn:i,description:n,ctaCopy:s,ctaHrefBase:r,team:a}=e,{data:l,isLoading:o}=(0,y.useSpeedInsightsEnabledProjects)(),c=l?.projects||[],d=a?.slug;return(0,t.jsxs)("div",{className:(0,v.default)("flex flex-col items-stretch justify-start gap-6 flex-initial",x.default.stack),children:[(0,t.jsx)("p",{className:"text-copy-14",children:n}),o||!d?(0,t.jsx)(C,{ctaCopy:s}):(0,t.jsx)(t.Fragment,{children:c.length>0?(0,t.jsx)(p.Entity.List,{className:x.default.container,children:c.map(e=>(0,t.jsxs)(p.Entity,{padding:2,children:[(0,t.jsx)(p.Entity.Content,{fill:!0,title:(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-start gap-2 flex-initial pl-1",children:[(0,t.jsx)(b.FrameworkAvatar,{project:e}),(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium",children:e.name})]})}),(0,t.jsx)(p.Entity.Content,{title:(0,t.jsx)(g.ButtonLink,{href:`/${d}/${e.name}${r||""}`,onClick:()=>(0,h.trackAddOnEvent)({eventName:"project_list_cta",source:"billing-settings-add-ons",value:`/${d}/${e.name}${r||""}`,addOn:i}),type:"secondary",children:s})})]},e.id))}):null})]})}function C(e){let{ctaCopy:i}=e;return(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsxs)(p.Entity.List,{children:[(0,t.jsxs)(p.Entity,{padding:2,children:[(0,t.jsx)(p.Entity.Content,{fill:!0,title:(0,t.jsx)("div",{className:"flex flex-row items-stretch justify-start gap-2 flex-initial pl-1",children:(0,t.jsx)(b.FrameworkAvatarSkeleton,{})})}),(0,t.jsx)(p.Entity.Content,{title:(0,t.jsx)(g.ButtonLink,{disabled:!0,href:"/",type:"secondary",children:i})})]}),(0,t.jsxs)(p.Entity,{padding:2,children:[(0,t.jsx)(p.Entity.Content,{fill:!0,title:(0,t.jsx)("div",{className:"flex flex-row items-stretch justify-start gap-2 flex-initial pl-1",children:(0,t.jsx)(b.FrameworkAvatarSkeleton,{})})}),(0,t.jsx)(p.Entity.Content,{title:(0,t.jsx)(g.ButtonLink,{disabled:!0,href:"/",type:"secondary",children:i})})]}),(0,t.jsxs)(p.Entity,{padding:2,children:[(0,t.jsx)(p.Entity.Content,{fill:!0,title:(0,t.jsx)("div",{className:"flex flex-row items-stretch justify-start gap-2 flex-initial pl-1",children:(0,t.jsx)(b.FrameworkAvatarSkeleton,{})})}),(0,t.jsx)(p.Entity.Content,{title:(0,t.jsx)(g.ButtonLink,{disabled:!0,href:"/",type:"secondary",children:i})})]})]}),(0,t.jsx)(g.ButtonLink,{disabled:!0,href:"/",type:"secondary",width:"100%"})]})}function w(e){let{instructions:i,children:n}=e;return(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[i?(0,t.jsx)("p",{className:"text-copy-14",children:i}):null,n]})}e.s(["ProjectList",0,j],9477971);var P=e.i(7982125);function A(e){let{prorate:s,addOnValue:r,analyticsSource:a,currency:l,disable:d,enable:p,isEnabled:g,mutate:y,name:b,invoiceItem:x,setAddOnValue:v,modalType:C,setModalType:A,enableSteps:O,disableSteps:N,team:S,toasts:_,update:I,unit:E,includedQuantity:D,onStart:k,onSuccess:M,onClose:L}=e,B=(0,i.useMemo)(()=>"number"==typeof r?r:Array.isArray(r)?r.length:0,[r]),[F,T]=(0,i.useState)(!1),[H,V]=(0,i.useState)(function(e,t,i){if("enableOrUpdate"===t){if("postConfirmConfiguration"in e&&i)return"postConfirmConfiguration";if("configure"in e)return"configure"}else if("disable"===t)return"disable";return"confirm"}(O,C,g)),[R,U]=(0,i.useState)(null),$=(0,i.useCallback)(e=>{V(e),(0,h.trackAddOnEvent)({eventName:"change_step",addOn:b,source:a,step:e,value:r})},[r,a,b]),G=(0,i.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(r&&!g||"disable"===e)&&v(void 0),(0,h.trackAddOnEvent)({eventName:"exit_modal",addOn:b,source:a,step:e,value:r}),A(null),L?.(t)},[r,a,g,b,v,A,L]),q=(0,i.useCallback)(async()=>{if(S&&d){k?.();try{T(!0),await d({team:S,addOnValue:r}),await y(),M?.(),_.success(`Disabled ${(0,u.getAddOnDisplayName)(b,H)}.`),(0,h.trackAddOnEvent)({eventName:"disable",addOn:b,source:a})}catch(e){G(H),e instanceof Error?_.error(e.message):_.error(`We ran into an unexpected issue disabling ${(0,u.getAddOnDisplayName)(b,H)}. Please try again later.`)}finally{T(!1)}}},[S,G,d,r,y,_,b,a,H,M,k]),Z=(0,i.useCallback)(async()=>{if(S){k?.();try{return g&&I?(U(null),await I({team:S,addOnValue:r})):await p({team:S,addOnValue:r}),await y(),M?.(),_.success(`${g?"Updated":"Enabled"} ${(0,u.getAddOnDisplayName)(b,H)}.`),(0,h.trackAddOnEvent)({eventName:g&&I?"update":"enable",addOn:b,source:a,value:r}),!0}catch(e){g&&"previewDeploymentSuffix"===b?U(e instanceof Error?e.message:"Unexpected error updating Preview Deployment Suffix"):(G(H),e instanceof Error?_.error(e.message):_.error(`We ran into an unexpected issue enabling ${(0,u.getAddOnDisplayName)(b,H)}. Please try again later.`))}}},[S,g,I,r,p,y,_,b,a,G,H,M,k]),W=(0,i.useCallback)(()=>{switch(H){case"configure":G("configure",!0);break;case"confirm":"configure"in O?$("configure"):G("confirm",!0);break;case"postConfirmProjectList":G("postConfirmProjectList",!0);break;case"postConfirmConfiguration":G("postConfirmConfiguration",!0);break;default:A(null)}},[H,G,O,A,$]),z=(0,i.useMemo)(()=>{switch(H){case"postConfirmConfiguration":case"configure":return"Cancel";case"confirm":if("configure"in O||O.externalConfiguration)return"Back";return"Cancel"}},[H,O]),Y=(0,i.useCallback)(async()=>{switch(H){case"configure":s&&"number"==typeof r&&r<x.quantity?$("disable"):$("confirm");break;case"confirm":T(!0),await Z(),T(!1),"postConfirmProjectList"in O?$("postConfirmProjectList"):"postConfirmConfiguration"in O?$("postConfirmConfiguration"):G("confirm");break;case"postConfirmProjectList":G("postConfirmProjectList");break;case"postConfirmConfiguration":{if(!I){G("postConfirmConfiguration");break}T(!0);let e=await Z();T(!1),e&&G("postConfirmConfiguration");break}case"disable":await q(),"exitSurvey"in N?$("exitSurvey"):G("disable");break;case"exitSurvey":G("exitSurvey");break;default:A(null)}},[H,s,r,x.quantity,Z,O,G,A,$,I,q,N]),Q=(0,i.useMemo)(()=>{switch(H){case"configure":return"Next";case"confirm":return O[H]?.confirmLabel??f.defaultConfirmLabel;case"postConfirmProjectList":return"Close";case"postConfirmConfiguration":if(!I)return"Close";return"Save"}},[H,I,O]),K=(0,i.useMemo)(()=>{switch(H){case"postConfirmConfiguration":case"configure":{let e=O[H]?.content;if(!e){$("confirm");break}let i=O[H]?.instructions||"";return(0,t.jsx)(w,{instructions:i,children:"function"==typeof e?(0,t.jsx)(e,{addOnValue:r,configureError:R,setAddOnValue:v}):e})}case"confirm":{let e=O[H];return(0,t.jsx)(f.ConfirmationInvoice,{addOnValue:r,billingPeriod:S?.billing?.period??null,currency:l,customCopy:e.customCopy,includedQuantity:D,invoiceItem:x,lineItems:e.lineItems,name:b,nonProratedCustomCopy:e.nonProratedCustomCopy,prorate:s,unit:E,confirmLabel:e.confirmLabel})}case"postConfirmProjectList":return(0,t.jsx)(j,{addOn:b,ctaCopy:O[H]?.ctaCopy,ctaHrefBase:O[H]?.ctaHrefBase,description:O[H]?.description,team:S})}},[H,b,O,S,r,R,v,$,l,D,x,s,E]),J=(0,i.useMemo)(()=>"configure"===H&&(!!("number"==typeof r&&r===x.quantity||Array.isArray(r)&&0===r.length)||!r),[r,x.quantity,H]),X="postConfirmProjectList"===H||"postConfirmConfiguration"===H&&!I;return"exitSurvey"===H?(0,t.jsx)(o.SurveyModal,{active:!0,enableSkip:!0,onDismiss:()=>{G(H)},onSubmit:async e=>{await Y(),e.hasResponses&&await (0,c.createSurveyEntry)({data:e})},setActive:()=>{},showThankYouToast:!1,submitOnSkip:!0,surveyInfo:N[H]}):(0,t.jsx)(n.Modal.Modal,{active:!0,allowOverflow:!0,onClickOutside:()=>G(H),style:{maxHeight:"540px"},width:"540px",children:"disable"===H?(0,t.jsx)(m.DisableModalBody,{closeModal:G,customCopy:N[H].customDisableCopy,disable:Y,includedQuantity:D,invoiceItem:x,loading:F,name:b,newQuantity:B,overrideContent:N[H].customDisableModal}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Modal.Body,{className:"analytics"===b?P.default.fixedHeight:void 0,children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-initial pb-4",children:(0,t.jsxs)(n.Modal.Title,{children:[(0,u.getAddOnDisplayName)(b,H),"postConfirmProjectList"===H?" Added":""]})}),K]})}),(0,t.jsxs)(n.Modal.Actions,{children:[X?null:(0,t.jsx)(n.Modal.Action,{onClick:W,type:"secondary",children:z}),(0,t.jsx)(n.Modal.Action,{disabled:J,fullWidth:X,loading:F,onClick:Y,children:Q})]})]})})}e.s(["useTogglePaidAddOn",0,function(e){let{name:n,price:o,enable:c,disable:u,isEnabled:m,enableSteps:f,disableSteps:p,analyticsEventSource:g,update:y,currentAddOnValue:h,includedQuantity:b,unit:x,onStart:v,onSuccess:j,onClose:C}=e,w=(0,s.useToasts)(),{team:P,user:O,isLoading:N,mutate:S}=(0,r.useAccount)(),_=(0,d.billingFeatureSupported)(P,"billing.proratedAddOns"),I=(0,i.useMemo)(()=>{let e=P?.billing?.invoiceItems?.[n],t=e&&"highestQuantity"in e?e.highestQuantity:null;return"webAnalytics"!==n&&e?e:{price:o,quantity:e?.quantity??b??0,highestQuantity:t??b??0}},[b,n,o,P?.billing?.invoiceItems]),[E,D]=(0,i.useState)(null),{mutate:k}=(0,a.useUpcomingUsage)({enabled:!!E}),M=(0,i.useCallback)(()=>Promise.race([S(),k()]),[S,k]),L=m?.(P)??(I.quantity>(b??0)||!!P?.enabledInvoiceItems?.[n]?.enabled),B=P?.billing?.currency,F=(0,i.useMemo)(()=>(0,l.formatCurrency)(I.price,B),[I,B]),[T,H]=(0,i.useState)(h),V=(0,i.useCallback)(e=>{e&&H(e),D("enableOrUpdate")},[H,D]),R=(0,i.useCallback)(()=>{"analytics"!==n&&H(b??0),D("disable")},[H,D,b,n]),U=(0,i.useMemo)(()=>null!==E?(0,t.jsx)(A,{addOnValue:T,analyticsSource:g,currency:B,disable:u,disableSteps:p,enable:c,enableSteps:f,includedQuantity:b,invoiceItem:I,isEnabled:L,modalType:E,mutate:M,name:n,onClose:C,onStart:v,onSuccess:j,prorate:_,setAddOnValue:H,setModalType:D,team:P,toasts:w,unit:x,update:y}):null,[E,T,g,B,u,p,c,f,b,I,L,M,n,C,v,j,_,P,w,x,y]);return!N&&O&&P?{isEnabled:L,AddOnModal:U,openEnableOrUpdateModal:V,openDisableModal:R,formattedPrice:F}:{isEnabled:!1,formattedPrice:F}}],364898)},199192,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M6.74999 3.93933L7.28032 4.46966L10.1035 7.29288C10.4941 7.68341 10.4941 8.31657 10.1035 8.7071L7.28032 11.5303L6.74999 12.0607L5.68933 11L6.21966 10.4697L8.68933 7.99999L6.21966 5.53032L5.68933 4.99999L6.74999 3.93933Z" fill="currentColor"/>');e.s(["ChevronRightSmall",0,t])},2466450,e=>{"use strict";let t={long:e=>new Intl.NumberFormat("en-US",{style:"currency",currency:e,maximumFractionDigits:3}),short:e=>new Intl.NumberFormat("en-US",{style:"currency",currency:e,minimumFractionDigits:0,maximumFractionDigits:0})};e.s(["formatCurrency",0,function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"usd",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=Number(e)*s,a=100;return"string"==typeof e&&(a=1),"auto"===n&&(n=r%a==0?"short":"long"),(0,t[n])(i).format(r/a)}])},7749365,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M14.5 8C14.5 11.5899 11.5899 14.5 8 14.5C4.41015 14.5 1.5 11.5899 1.5 8C1.5 4.41015 4.41015 1.5 8 1.5C11.5899 1.5 14.5 4.41015 14.5 8ZM16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM8.75 4.75V4H7.25V4.75V7.875C7.25 8.18976 7.39819 8.48615 7.65 8.675L9.55 10.1L10.15 10.55L11.05 9.35L10.45 8.9L8.75 7.625V4.75Z" fill="currentColor"/>');e.s(["Clock",0,t])},539392,e=>{"use strict";var t=e.i(9487122);e.s(["normalizeDates",0,function(e){for(var i=arguments.length,n=Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];let r=t.constructFrom.bind(null,e||n.find(e=>"object"==typeof e));return n.map(r)}])},2632713,e=>{"use strict";var t=e.i(516467);e.s(["getTimezoneOffsetInMilliseconds",0,function(e){let i=(0,t.toDate)(e),n=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return n.setUTCFullYear(i.getFullYear()),e-n}])},870429,e=>{"use strict";var t=e.i(2632713),i=e.i(539392),n=e.i(1511518),s=e.i(3738416);e.s(["differenceInCalendarDays",0,function(e,r,a){let[l,o]=(0,i.normalizeDates)(a?.in,e,r),c=(0,s.startOfDay)(l),d=(0,s.startOfDay)(o);return Math.round((c-(0,t.getTimezoneOffsetInMilliseconds)(c)-(d-(0,t.getTimezoneOffsetInMilliseconds)(d)))/n.millisecondsInDay)}])},4496450,e=>{"use strict";function t(e){return!e||"legacy"===e}e.s(["isLegacyPlanIteration",0,t,"isOnUnbundledPricingPlan",0,function(e){return!t(e?.billing?.planIteration)},"usesMiuPricing",0,function(e){return e?.plan==="enterprise"&&e?.planIteration==="unbundled"}])},1412448,e=>{"use strict";var t=e.i(7909933),i=e.i(8042625),n=e.i(277234),s=e.i(4244280),r=e.i(9668517),a=e.i(7917902),l=e.i(1717203),o=e.i(7557283);e.s(["useUpcomingUsage",0,function(){let{enabled:e,throwOnHTTPError:c}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=(0,r.useTeamSlug)(),{account:u}=(0,a.useAccount)(),{can:m,isLoading:f}=(0,l.default)(),p=m(o.Action.Read,o.Resource.BillingInvoice),g=(e??!0)&&!!u&&!f&&p;return(0,t.default)(()=>g&&u?.billing?.plan!=="hobby"?`${s.API_STRIPE_NEXT_INVOICE}${(0,i.encode)({slug:d})}`:null,e=>(0,n.fetchAPI)(e,{throwOnHTTPError:c??!0}),{shouldRetryOnError:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1})}])},7921976,e=>{"use strict";var t=e.i(8620523);e.s(["isModifierPressed",0,e=>(0,t.isAppleDevice)()?e.metaKey:e.ctrlKey])},2400041,e=>{e.v({container:"entities-module__AKr3mW__container",list:"entities-module__AKr3mW__list"})},7137701,e=>{e.v({container:"entity-content-module__Sb84Kq__container",textContent:"entity-content-module__Sb84Kq__textContent"})},200487,e=>{e.v({button:"entity-module___Tgnpa__button",left:"entity-module___Tgnpa__left",right:"entity-module___Tgnpa__right"})},2064047,e=>{"use strict";var t=e.i(7292788),i=e.i(9722978),n=e.i(9508212),s=e.i(2400041),r=e.i(1344973),a=e.i(7137701);let l={truncate:!0,weight:600},o={truncate:!0,color:"gray-900"};function c(e){let{title:i,description:s,avatar:c,width:d,fill:u=!1,...m}=e,f="string"==typeof i?(0,t.jsx)(r.Text,{...l,children:i}):i,p="string"==typeof s?(0,t.jsx)(r.Text,{...o,children:s}):s;return(0,t.jsxs)(n.Stack,{align:"center",className:a.default.container,direction:"row",flex:u?1:void 0,gap:2,style:{"--width":d},...m,children:[f||p?(0,t.jsxs)(n.Stack,{className:a.default.textContent,flex:1,children:[i?f:null,s?p:null]}):null,c||null]})}c.TitleTextProps=l,c.DescriptionTextProps=o,c.SkeletonProps={boxHeight:20,height:14,width:"40%",show:!0};var d=e.i(200487);let u=e=>{let{as:s,children:r,className:a,left:l,right:o,rightProps:c,footer:u,onClick:m,padding:f=4,...p}=e,g=s??(m?"button":"li");return(0,t.jsxs)(n.Stack,{as:g,className:(0,i.clsx)(a,"button"===g&&d.default.button),onClick:m,padding:f,...p,children:[(0,t.jsxs)(n.Stack,{align:"center",as:"section",direction:"row",gap:4,children:[l||r?(0,t.jsxs)(n.Stack,{align:"center",className:(0,i.clsx)("left",d.default.left),direction:"row",flex:1,gap:4,children:[l,r]}):null,o?(0,t.jsx)(n.Stack,{align:"center",className:(0,i.clsx)("right",d.default.right),direction:"row",gap:4,...c,children:o}):null]}),u||null]})};u.Content=c,u.List=function(e){let{children:r,className:a,header:l,style:o,ref:c}=e;return l?(0,t.jsxs)(n.Stack,{gap:3,children:[l,(0,t.jsx)("ul",{className:(0,i.clsx)(s.default.container,s.default.list,a),ref:c,style:o,children:r})]}):(0,t.jsx)("ul",{className:(0,i.clsx)(s.default.container,s.default.list,a),ref:c,style:o,children:r})},e.s(["Entity",0,u],2064047)},682502,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)(`<path fill-rule="evenodd" clip-rule="evenodd" d="M10.7499 1H9.99987V2.5H10.7499H12.4392L1.46954 13.4697L0.939209 14L1.99987 15.0607L2.5302 14.5303L13.4987 3.56182V5.25V6H14.9987V5.25V2C14.9987 1.44772 14.551 1 13.9987 1H10.7499Z" fill="currentColor"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M6.0002 7.06067L5.46983 6.53038L1.4691 2.53034L0.938721 2.00005L1.99929 0.939301L2.52967 1.46959L6.5304 5.46963L7.06077 5.99992L6.0002 7.06067ZM12.4377 13.4994H10.7499H9.99994V14.9994H10.7499H13.9994C14.5517 14.9994 14.9994 14.5517 14.9994 13.9994V10.75V9.99999H13.4994V10.75V12.4398L10.5305 9.46978L10.0003 8.93934L8.93944 9.99979L9.46966 10.5302L12.4377 13.4994Z" fill="currentColor"/>`);e.s(["ArrowCrossed",0,t])},4099936,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M2.19338 12.2035C1.92748 11.7599 1.75 11.1309 1.75 10.2159C1.75 8.37501 2.4707 6.35242 3.64834 4.79604C4.83005 3.23427 6.38227 2.25 8 2.25C9.61773 2.25 11.17 3.23427 12.3517 4.79604C13.5293 6.35242 14.25 8.37501 14.25 10.2159C14.25 11.1309 14.0725 11.7599 13.8066 12.2035C13.5451 12.6398 13.1629 12.9556 12.6437 13.1877C11.5482 13.6774 9.9652 13.75 8 13.75C6.0348 13.75 4.45177 13.6774 3.3563 13.1877C2.83709 12.9556 2.45492 12.6398 2.19338 12.2035ZM2.74421 14.5571C4.18223 15.1999 6.09921 15.25 8 15.25C9.90079 15.25 11.8178 15.1999 13.2558 14.5571C14.0033 14.223 14.6463 13.7202 15.0932 12.9747C15.5357 12.2364 15.75 11.3203 15.75 10.2159C15.75 8.01826 14.9037 5.68289 13.5478 3.89095C12.196 2.10441 10.2483 0.75 8 0.75C5.75174 0.75 3.80396 2.10441 2.45217 3.89095C1.0963 5.68289 0.25 8.01826 0.25 10.2159C0.25 11.3203 0.464272 12.2364 0.906809 12.9747C1.35371 13.7202 1.99667 14.223 2.74421 14.5571Z" fill="currentColor"/>');e.s(["Blob",0,t])},150374,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M6.28497 1.5H13V12C13 12.5523 12.5523 13 12 13H6.28497L6.28497 1.5ZM5.03497 1.5H3V12C3 12.5523 3.44772 13 4 13H5.03497L5.03497 1.5ZM5.03497 14.5H4C2.61929 14.5 1.5 13.3807 1.5 12V1.5V0H3H13H14.5V1.5V12C14.5 13.3807 13.3807 14.5 12 14.5H6.28497V15V15.625H5.03497V15V14.5ZM8.505 3.375H9.13H10.13H10.755V4.625H10.13H9.13H8.505V3.375ZM9.13 6.375H8.505V7.625H9.13H10.13H10.755V6.375H10.13H9.13Z" fill="currentColor"/>');e.s(["Notebook",0,t])},218692,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill="currentColor" fill-rule="evenodd" d="M1 1v11.75A2.25 2.25 0 0 0 3.25 15H15v-1.5H3.25a.75.75 0 0 1-.75-.75V1H1Zm13.297 5.013.513-.547-1.094-1.026-.513.547-3.22 3.434-2.276-2.275a1 1 0 0 0-1.414 0L4.22 8.22l-.53.53 1.06 1.06.53-.53L7 7.56l2.287 2.287a1 1 0 0 0 1.437-.023l3.573-3.811Z" clip-rule="evenodd"/>');e.s(["LineChart",0,t])},6675233,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M8.75 2.79933C9.19835 2.53997 9.5 2.05521 9.5 1.5C9.5 0.671573 8.82843 0 8 0C7.17157 0 6.5 0.671573 6.5 1.5C6.5 2.05521 6.80165 2.53997 7.25 2.79933V5H7C4.027 5 1.55904 7.16229 1.08296 10H0V13H1V14.5V16H2.5H13.5H15V14.5V13H16V10H14.917C14.441 7.16229 11.973 5 9 5H8.75V2.79933ZM7 6.5C4.51472 6.5 2.5 8.51472 2.5 11V14.5H13.5V11C13.5 8.51472 11.4853 6.5 9 6.5H7ZM7.25 11.25C7.25 12.2165 6.4665 13 5.5 13C4.5335 13 3.75 12.2165 3.75 11.25C3.75 10.2835 4.5335 9.5 5.5 9.5C6.4665 9.5 7.25 10.2835 7.25 11.25ZM10.5 13C11.4665 13 12.25 12.2165 12.25 11.25C12.25 10.2835 11.4665 9.5 10.5 9.5C9.5335 9.5 8.75 10.2835 8.75 11.25C8.75 12.2165 9.5335 13 10.5 13Z" fill="currentColor" />');e.s(["Robot",0,t])},787358,e=>{"use strict";var t=e.i(9334638);let i=(0,t.withNewIcon)(`<g clip-path="url(#clip0_53_135${t.ADD_UNIQUE_ID})">
    <path fill-rule="evenodd" clip-rule="evenodd" d="M2.25 0C1.00736 0 0 1.00736 0 2.25V13.75C0 14.9926 1.00736 16 2.25 16H13.75C14.9926 16 16 14.9926 16 13.75V2.25C16 1.00736 14.9926 0 13.75 0H2.25ZM1.5 2.25C1.5 1.83579 1.83579 1.5 2.25 1.5H13.75C14.1642 1.5 14.5 1.83579 14.5 2.25V13.75C14.5 14.1642 14.1642 14.5 13.75 14.5H2.25C1.83579 14.5 1.5 14.1642 1.5 13.75V2.25ZM5.5 10V7.125C5.5 6.64175 5.89175 6.25 6.375 6.25C6.85825 6.25 7.25 6.64175 7.25 7.125V10.5V11.25H8.75V10.5V7.125V7.12497C8.75 6.64172 9.14175 6.24997 9.625 6.24997C10.1082 6.24997 10.5 6.64172 10.5 7.12497V10.5V11.25H12V10.5V7.12497C12 5.81329 10.9367 4.74997 9.625 4.74997C8.99638 4.74997 8.42481 4.99419 7.99998 5.39292C7.57516 4.99421 7.0036 4.75 6.375 4.75C6.066 4.75 5.77078 4.80901 5.5 4.91638V4.75H4V5.5V7.125V10V10.5V10.75V11.25H5.5V10.75V10.5V10Z" fill="currentColor" />
   </g>
  <defs>
  <clipPath id="clip0_53_135${t.ADD_UNIQUE_ID}">
  <rect width="16" height="16" fill="currentColor"/>
  </clipPath>
  </defs>
  `);e.s(["FunctionMiddleware",0,i])},4333930,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M0 2.25C0 1.00736 1.00736 0 2.25 0H13.75C14.9926 0 16 1.00736 16 2.25V13.75C16 14.9926 14.9926 16 13.75 16H2.25C1.00736 16 0 14.9926 0 13.75V2.25ZM2.25 1.5C1.83579 1.5 1.5 1.83579 1.5 2.25V13.75C1.5 14.1642 1.83579 14.5 2.25 14.5H13.75C14.1642 14.5 14.5 14.1642 14.5 13.75V2.25C14.5 1.83579 14.1642 1.5 13.75 1.5H2.25ZM10.2462 5C9.41986 5 8.75 5.66986 8.75 6.49618V7H9.75H10.5V8.5H9.75H8.75V9.50439C8.75 11.1588 7.40882 12.5 5.75439 12.5H5.00439V11H5.75439C6.58039 11 7.25 10.3304 7.25 9.50439V8.5H6.25H5.5V7H6.25H7.25V6.49618C7.25 4.84144 8.59144 3.5 10.2462 3.5H10.9962V5H10.2462Z" fill="currentColor"/>');e.s(["FunctionSquare",0,t])},5202960,6880199,e=>{"use strict";var t=e.i(4244280),i=e.i(9979783),n=e.i(6352514),s=e.i(4759942);async function r(e){let{team:r,source:a,enableTeam:l}=e,o=(await (0,i.typedFetchData)(t.API_OBSERVABILITY_CONFIGURATION,"patch",{teamId:r.id},{teamEnabled:l})).teamEnabled===l;return o&&s.analytics.track(l?n.AnalyticsEvent.OBSERVABILITY_PLUS_ENABLED:n.AnalyticsEvent.OBSERVABILITY_PLUS_DISABLED,{teamId:r.id,plan:r.billing?.plan,source:a}),o}e.s(["patchObservabilityConfiguration",0,r],6880199),e.s([],5202960)},9667097,e=>{"use strict";var t=e.i(1233856),i=e.i(9171423),n=e.i(4244280),s=e.i(5269510);async function r(e){let r=await (0,i.fetchApi)(`${n.API_OBSERVABILITY_METRICS}?${(0,s.stringify)(a(e.scope))}`,{method:"POST",body:JSON.stringify(e),throwOnHTTPError:!0});if(null===r||"object"!=typeof r)throw Error("Failed to fetch sonar data");return(0,t.fromApiSonarResult)(r)}function a(e){return"team-with-slug"===e.type||"project-with-slug"===e.type?{slug:e.teamSlug}:{ownerId:e.ownerId}}e.s(["getSonarData",0,r,"getSonarTeamParam",0,a],9667097)},2175076,6464673,e=>{"use strict";var t=e.i(7909933),i=e.i(277234),n=e.i(4244280),s=e.i(5338940);e.s(["useMonitoringSettings",0,function(){let{isReady:e,team:r}=(0,s.useTeam)();return(0,t.default)(()=>r&&e?`${n.API_MONITORING_SETTINGS}?teamId=${encodeURIComponent(r.id)}`:null,e=>(0,i.fetchAPI)(e,{throwOnHTTPError:!0}))}],2175076),e.s(["getMaxRetention",0,function(e){return e.billing?.plan==="enterprise"?{days:90}:{days:30}},"getMinGranularity",0,function(e,t){return e.billing?.plan==="enterprise"&&"5min"===t?{minutes:5}:{hours:1}},"isEntitledToMonitoring",0,function(e){let{team:t,monitoringAccessOverrideFlag:i}=e,n=t.enabledInvoiceItems?.monitoring?.enabled||!1;return i||t.billing?.plan==="enterprise"||n}],6464673)},854682,e=>{"use strict";var t=e.i(5338940),i=e.i(588428),n=e.i(2175076),s=e.i(28552),r=e.i(6464673);e.i(3182268);var a=e.i(7849855),l=e.i(7017723),o=e.i(3769024);e.s(["useHasObservabilityPlus",0,function(){let{isReady:e,team:c}=(0,t.useTeam)(),{projectSlug:d}=(0,a.useProjectSlug)(),u=(0,l.useIsImpersonating)(),{value:m,isReady:f}=(0,i.useMonitoringOverrideTeamFlag)(),{isLoading:p,data:g}=(0,n.useMonitoringSettings)(),{isLoading:y,data:h,mutate:b,isValidating:x}=(0,s.useObservabilityConfiguration)();return{mutate:b,ready:e&&f&&!p&&!y,...function(e){let{team:t,monitoringSettings:i,monitoringOverrideFlag:n,observabilityConfiguration:s}=e,a=((t?.billing?.plan==="enterprise"?i?.isEnabled||n:t&&(0,r.isEntitledToMonitoring)({team:t,monitoringAccessOverrideFlag:n||!1}))||n)??!1,l=s?.observabilityPlus.enabled??!1;return{hasMonitoringAccess:a||l,hasOnlyMonitoring:a}}({team:c,monitoringOverrideFlag:m,monitoringSettings:g,observabilityConfiguration:h}),hasObservabilityPlusAccess:h?.observabilityPlus.enabled??!1,hasObservabilityPlusSubscribed:h?.observabilityPlus?.subscribed??!1,isValidating:x,observabilityConfiguration:h,hasObservabilityPlusAccessOnCurrentProject:(0,o.hasObservabilityPlusAccess)(h?.observabilityPlus,d,u),impersonating:u,applyPromotion:h?.observabilityPlus?.eligiblePromotion==="BFCM-2025"}}],854682)},6048454,e=>{"use strict";e.s([],6048454)},1233856,e=>{"use strict";var t=e.i(268049);e.i(2243470);var i=e.i(696150),n=e.i(7432042);function s(e,s){let r=(0,t.milliseconds)(s);if(r<=(0,n.default)("1d"))return new Date(Math.floor(e.getTime()/r)*r);let a=Object.keys(s)[0]?.slice(0,-1);if("week"!==a&&"month"!==a&&"year"!==a)throw Error(`Unsupported duration ${JSON.stringify(s)}`);return i.DateTime.fromMillis(e.getTime(),{zone:"UTC"}).startOf(a).toJSDate()}e.i(6048454);let r=Symbol("FIRST_ROLLUP");e.s(["FIRST_ROLLUP",0,r,"endOfDuration",0,function(e,t){let n=s(e,t);return n.getTime()===e.getTime()?n:i.DateTime.fromJSDate(n,{zone:"UTC"}).plus(t).toJSDate()},"fromApiSonarResult",0,function(e){return{...e,data:e.data?.map(e=>({...e,timestamp:new Date(e.timestamp)}))}},"getRollup",0,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;if(!e?.rollups)return null;let i=t===r?Object.keys(e.rollups)[0]:t;if(!i)return null;let n=e.rollups[i];return n?{name:i,...n}:null},"hasOthers",0,function(e){return e.summary.some(e=>Object.values(e).includes("Others"))},"startOfDuration",0,s])},7017723,e=>{"use strict";var t=e.i(8583659),i=e.i(512540);e.s(["useIsImpersonating",0,()=>{let[e,n]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{n("1"===i.default.get("vercel_impersonate"))},[]),e}])},3769024,e=>{"use strict";e.s(["hasObservabilityPlusAccess",0,function(e,t,i){return!!e&&(!!i||!!e.enabled&&(!t||!e.excludedProjects?.some(e=>e.name===t||e.id===t)))}])},28552,e=>{"use strict";var t=e.i(4603164),i=e.i(4244280),n=e.i(5338940);e.s(["useObservabilityConfiguration",0,function(){let{isReady:e,team:s}=(0,n.useTeam)();return(0,t.useTypedSWR)(i.API_OBSERVABILITY_CONFIGURATION,s&&e?{teamId:s.id}:null)}])},5269510,e=>{"use strict";e.s(["stringify",0,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"=",n=[];for(let t in e)if(Object.hasOwn(e,t)){let s=e[t];if(Array.isArray(s))for(let e of s)null!=e&&n.push(`${encodeURIComponent(t)}${i}${encodeURIComponent(e.toString())}`);else null!=s&&n.push(`${encodeURIComponent(t)}${i}${encodeURIComponent(s.toString())}`)}return n.join(t)}])},794055,e=>{"use strict";var t=e.i(7292788),i=e.i(6143247);e.s(["NorthernLights",0,function(e){let{className:n,colors:s=["#DE2670","#8E4EC6","#6CDA76","#12A594","#0070F3"]}=e;return(0,t.jsx)("div",{className:(0,i.cn)("absolute left-0 right-0 top-0 overflow-hidden rounded-t-[11px] opacity-30 dark:opacity-60",n),children:(0,t.jsxs)("svg",{width:"678",height:"77",viewBox:"0 0 678 77",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-auto",children:[(0,t.jsxs)("g",{clipPath:"url(#clip0_124_1530)",children:[(0,t.jsx)("g",{filter:"url(#filter0_f_124_1530)",children:(0,t.jsx)("ellipse",{cx:"172.5",cy:"2",rx:"122.5",ry:"30",fill:s[0],fillOpacity:"0.4"})}),(0,t.jsx)("g",{opacity:"0.3",filter:"url(#filter1_f_124_1530)",children:(0,t.jsx)("ellipse",{cx:"440",cy:"-8",rx:"164",ry:"30",fill:s[1]})}),(0,t.jsx)("g",{opacity:"0.3",filter:"url(#filter2_f_124_1530)",children:(0,t.jsx)("ellipse",{cx:"692",cy:"14.5",rx:"164",ry:"42.5",fill:s[2]})}),(0,t.jsx)("g",{opacity:"0.3",filter:"url(#filter3_f_124_1530)",children:(0,t.jsx)("ellipse",{cx:"755.5",cy:"14.5",rx:"68.5",ry:"37.5",fill:s[3]})}),(0,t.jsx)("g",{opacity:"0.3",filter:"url(#filter4_f_124_1530)",children:(0,t.jsx)("ellipse",{cx:"9",cy:"20",rx:"164",ry:"30",fill:s[4]})})]}),(0,t.jsxs)("defs",{children:[(0,t.jsxs)("filter",{id:"filter0_f_124_1530",x:"16.1",y:"-61.9",width:"312.8",height:"127.8",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,t.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,t.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,t.jsx)("feGaussianBlur",{stdDeviation:"16.95",result:"effect1_foregroundBlur_124_1530"})]}),(0,t.jsxs)("filter",{id:"filter1_f_124_1530",x:"242.1",y:"-79.9",width:"395.8",height:"127.8",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,t.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,t.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,t.jsx)("feGaussianBlur",{stdDeviation:"16.95",result:"effect1_foregroundBlur_124_1530"})]}),(0,t.jsxs)("filter",{id:"filter2_f_124_1530",x:"494.1",y:"-61.9",width:"395.8",height:"152.8",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,t.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,t.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,t.jsx)("feGaussianBlur",{stdDeviation:"16.95",result:"effect1_foregroundBlur_124_1530"})]}),(0,t.jsxs)("filter",{id:"filter3_f_124_1530",x:"653.1",y:"-56.9",width:"204.8",height:"142.8",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,t.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,t.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,t.jsx)("feGaussianBlur",{stdDeviation:"16.95",result:"effect1_foregroundBlur_124_1530"})]}),(0,t.jsxs)("filter",{id:"filter4_f_124_1530",x:"-188.9",y:"-43.9",width:"395.8",height:"127.8",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,t.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,t.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,t.jsx)("feGaussianBlur",{stdDeviation:"16.95",result:"effect1_foregroundBlur_124_1530"})]}),(0,t.jsx)("clipPath",{id:"clip0_124_1530",children:(0,t.jsx)("rect",{width:"678",height:"77",rx:"11",fill:"white"})})]})]})})}])},7114658,e=>{"use strict";var t=e.i(9979783),i=e.i(4244280),n=e.i(6352514),s=e.i(4759942),r=e.i(4597921),a=e.i(9668517),l=e.i(28552);e.i(3182268);var o=e.i(7849855),c=e.i(455575),d=e.i(3769024);function u(){return(0,r.useServerFlag)("enable-observability-plus-for-projects",!1)}async function m(e){let{teamIdOrSlug:r,projectIdOrName:a,disabled:l}=e,o=await (0,t.typedFetchData)(i.API_OBSERVABILITY_CONFIGURATION_FOR_PROJECT,"put",{teamId:r,projectIdOrName:a},{disabled:l},{throwOnHTTPError:!0});return s.analytics.track(l?n.AnalyticsEvent.OBSERVABILITY_PLUS_PROJECT_DISABLED:n.AnalyticsEvent.OBSERVABILITY_PLUS_PROJECT_ENABLED,{projectIdOrName:a,teamIdOrSlug:r}),o}e.s(["useObservabilityPlusForProjects",0,function(){let{data:e,mutate:t,isLoading:i,isValidating:n,error:s}=(0,l.useObservabilityConfiguration)(),r=(0,a.useTeamSlug)(),{projectSlug:f}=(0,o.useProjectSlug)();return{isObservabilityPlusForProjectsFlagEnabled:u(),toggleObservabilityPlusForProject:async i=>{let{projectName:n,disabled:s}=i;if(r)try{let i=await m({teamIdOrSlug:r,projectIdOrName:n,disabled:s});if(c.toasts.success(`Observability Plus ${s?"excluded":"included"} on ${n}`),!e)return;let a=i.disabledAt?[...e.observabilityPlus.excludedProjects||[],{...i,name:n}]:e.observabilityPlus.excludedProjects?.filter(e=>e.id!==i.id);await t({observabilityPlus:{...e.observabilityPlus,excludedProjects:a}})}catch(e){c.toasts.error("An error occurred while updating the project status."),await t()}},excludedProjects:e?e.observabilityPlus.excludedProjects??[]:void 0,isCurrentProjectExcluded:!!e&&!(0,d.hasObservabilityPlusAccess)(e?.observabilityPlus,f),isValidating:n,isLoading:i||!e&&!s,hasObservabilityPlus:e?.observabilityPlus.enabled??!1}},"useObservabilityPlusForProjectsFlag",0,u],7114658)},1509029,e=>{"use strict";var t=e.i(7432042);let i=(0,t.default)("32d"),n=(0,t.default)("25h"),s=(0,t.default)("4d"),r=(0,t.default)("14h");e.s(["FreeEntRetention",0,s,"FreeHobbyRetention",0,r,"FreeProRetention",0,n,"MeteredEvents",0,["incomingRequest","outgoingRequest","functionExecution","middlewareInvocation","aiGatewayRequest"],"PlusRetention",0,i])},5568858,3570807,e=>{"use strict";var t=e.i(7292788),i=e.i(8522580);e.i(3233e3);var n=e.i(3769024),s=e.i(7432042),r=e.i(901210),a=e.i(5338940),l=e.i(1233856),o=e.i(1509029),c=e.i(9667097);async function d(e){let{teamId:t}=e,i=(0,l.startOfDuration)(new Date,{days:1}),n=new Date(i.getTime()-(0,s.default)("7d")),r=await Promise.all(o.MeteredEvents.map(async e=>{let s=await (0,c.getSonarData)({scope:{type:"owner",ownerId:t},reason:"observability_usage_estimate",event:e,rollups:{count:{measure:"count",aggregation:"sum"}},granularity:{days:1},startTime:n,endTime:i,groupBy:["projectId"],limit:5});return{event:e,data:s}})),a=new Map,d={totalEvents:0,eventBreakdown:{}};for(let{event:e,data:t}of r)for(let i of t.summary){let t=a.get(i.projectId)??0,n=Math.round((i.count??0)*4.25);a.set(i.projectId,t+n),d.totalEvents+=n,d.eventBreakdown[e]=(d.eventBreakdown[e]??0)+n}let u=r.flatMap(e=>{let{event:t,data:i}=e;return i.data.map(e=>{let{timestamp:i,count:n}=e;return{event:t,timestamp:i,value:4.25*Number(n)}})});return{eventBreakdown:d.eventBreakdown,totalEvents:Math.round(d.totalEvents),timeseries:u,eventsByProject:Array.from(a.entries()).map(e=>{let[t,i]=e;return{projectId:t,events:i}}).sort((e,t)=>t.events-e.events)}}var u=e.i(7114658),m=e.i(9736132),f=e.i(6060673),p=e.i(3869281),g=e.i(5255926),y=e.i(8583659),h=e.i(9722978);function b(){let{excludedProjects:e}=(0,u.useObservabilityPlusForProjects)(),{data:t}=function(){let{team:e}=(0,a.useTeam)();return(0,r.default)(e?.id,()=>e?d({teamId:e.id}):null)}(),{data:i}=(0,f.useProjects)(t&&e?Array.from(new Set([...e.map(e=>{let{id:t}=e;return t}),...t.eventsByProject.map(e=>{let{projectId:t}=e;return t}).slice(0,6)])):void 0,{config:{keepPreviousData:!0}});return{totalEvents:t?.eventsByProject?t.eventsByProject.reduce((t,i)=>{var s;let{projectId:r,events:a}=i;return void 0!==(s=(0,n.hasObservabilityPlusAccess)({excludedProjects:e,enabled:!0},r)?t+a:t)?+s:void 0},0):void 0,excludedProjects:i?.filter(t=>!(0,n.hasObservabilityPlusAccess)({excludedProjects:e,enabled:!0},t.id)),includedProjects:i?.filter(t=>(0,n.hasObservabilityPlusAccess)({excludedProjects:e,enabled:!0},t.id)),observabilityUsage:t,totalExcludedProjects:e?.length??0}}function x(e){let{observabilityUsage:i,excludedProjects:n,includedProjects:s,canConfigure:r}=e,[a,l]=(0,y.useTransition)(),{toggleObservabilityPlusForProject:o}=(0,u.useObservabilityPlusForProjects)();return(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)(v,{leftColumnTitle:"Top 5 Projects *",rightColumnTitle:"~ Events in the last 30 days",children:s&&i?s.map(e=>{let n=i.eventsByProject.find(t=>t.projectId===e.id);return(0,t.jsx)(j,{disabled:a||!r,project:e,isIncluded:!0,onStatusChanged:()=>{l(async()=>{await o({projectName:e.name,disabled:!0})})},description:n?.events.toLocaleString()},e.id)}):(0,t.jsx)(t.Fragment,{children:Array.from(Array(n?.length??3).keys()).map(e=>(0,t.jsx)(j,{},e))})}),(0,t.jsx)("p",{className:"text-copy-14 text-gray-700",children:"* Other projects can be excluded in their Observability page"})]}),(0,t.jsx)(v,{leftColumnTitle:"Excluded Projects",children:n?.map(e=>(0,t.jsx)(j,{disabled:a||!r,project:e,isIncluded:!1,onStatusChanged:()=>{l(async()=>{await o({projectName:e.name,disabled:!1})})},description:"Excluded"},e.id))})]})}function v(e){let{children:i,leftColumnTitle:n,rightColumnTitle:s}=e;return(0,t.jsxs)("div",{className:" flex flex-col gap-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2 pb-1",children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-gray-1000",children:n}),s?(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-gray-1000 text-right",children:s}):null]}),(0,t.jsx)("div",{className:"divide-1 divide-solid divide-x-0 divide-y",children:i})]})}function j(e){let{project:i,onStatusChanged:n,isIncluded:s,description:r,disabled:a}=e;return(0,t.jsx)("div",{className:"col-span-2 border-[var(--ds-gray-200)] tabular-nums",children:(0,t.jsxs)("div",{className:"flex w-full items-center justify-between gap-2 py-2",children:[(0,t.jsxs)("div",{className:"flex cursor-pointer items-center justify-center gap-2",onClick:n,children:[(0,t.jsx)(p.Checkbox,{checked:s,disabled:a,onChange:n}),i?(0,t.jsx)(m.FrameworkAvatar,{isDisabled:!s,size:20,project:i}):(0,t.jsx)(m.FrameworkAvatarSkeleton,{size:20}),i?(0,t.jsx)("p",{className:(0,h.default)("text-copy-14",s?"text-gray-900":"text-gray-700"),children:i.name}):(0,t.jsx)(g.Skeleton,{width:50,height:20})]}),i?(0,t.jsx)("p",{className:(0,h.default)("text-copy-14 text-right",s?"text-gray-900":"text-gray-700"),children:r}):(0,t.jsx)(g.Skeleton,{width:50,height:20})]})})}e.s(["ProjectListWithUsageEvents",0,x,"useIncludedAndExcludedProjectWithUsageEvents",0,b],3570807);let C={surveyName:"Disable Observability Plus User Feedback",surveySlug:"disable-observability-plus-user-feedback",surveySteps:[{title:"Observability Plus has been disabled",description:"Help us improve by sharing your feedback.",fields:[{type:"select",id:"reasons-why",label:"Any reasons for disabling Observability Plus?",selectMultiple:!0,options:[{id:"missing-features",label:"Missing features",reveals:{id:"what-were-you-missing",label:"What were you missing?"}},{id:"too-expensive",label:"Too expensive",reveals:{id:"missing-controls",label:"What controls are missing?"}},{id:"prefer-another-product",label:"I prefer another product",reveals:{id:"preferred-product",label:"Which product do you prefer?"}},{id:"not-working-as-expected",label:"It is not working as expected",reveals:{id:"what-was-not-working",label:"What was not working?"}},{id:"just-looking-around",label:"I was just looking around"},{id:"other",label:"Other",reveals:{id:"other-reason",label:"Additional comments"}}]}]}]};var w=e.i(854682);e.i(5202960);var P=e.i(6880199),A=e.i(7917902),O=e.i(1717203),N=e.i(7557283),S=e.i(364898),_=e.i(4496450);function I(){let e=b(),{can:i,isLoading:n}=(0,O.default)(),s=!n&&i(N.Action.Update,N.Resource.ObservabilityConfiguration);return(0,t.jsx)(x,{...e,canConfigure:s})}e.s(["useToggleObservabilityPlus",0,e=>{let n,{team:s}=(0,A.useAccount)(),{hasOnlyMonitoring:r,hasObservabilityPlusAccess:a,mutate:l,applyPromotion:o}=(0,w.useHasObservabilityPlus)(),{excludedProjects:c,isObservabilityPlusForProjectsFlagEnabled:d}=(0,u.useObservabilityPlusForProjects)(),m={...function(e){let{hasOnlyMonitoring:n,team:s,source:r,refresh:a,skipPostConfirm:l,applyPromotion:o}=e,c=(0,t.jsxs)(t.Fragment,{children:["By disabling Observability Plus, you will immediately lose access to all advanced metrics. Only included metrics with limited retention window will be accessible.",(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)(i.Note,{type:"warning",children:"Data collected while Observability Plus was disabled will not be visible if you re-enable it."}),(0,t.jsx)("br",{})]}),d={name:"observabilityBase",price:1e3*!o,enable:async()=>{s&&(await (0,P.patchObservabilityConfiguration)({team:s,enableTeam:!0,source:r}),await a())},enableSteps:{externalConfiguration:!0,confirm:{lineItems:[...n?[{name:"Monitoring with 250K data points",price:1e3,removal:!0}]:[],{name:"Observability Plus with 1M events",price:"from_invoice_item",discountPrice:o?0:void 0,discountDescriptor:o?"during first month":void 0},{name:"On-demand events",price:120,priceDescriptor:"per 1M events",discountPrice:o?0:void 0,discountDescriptor:o?(0,t.jsx)("span",{className:"text-blue-700",children:"during first month"}):void 0}],nonProratedCustomCopy:o?void 0:(0,t.jsxs)(t.Fragment,{children:[" ","and your credit card will be charged ",(0,t.jsx)("b",{children:"immediately"}),"."]}),customCopy:(0,t.jsxs)(t.Fragment,{children:[" ","Charges for on-demand events will be billed to your credit card as accrued.",o&&(0,t.jsxs)(i.Note,{fill:!0,type:"success",className:"mt-4",children:["Limited time: Get"," ",(0,t.jsx)("span",{className:"font-bold",children:"your first month"})," of Observability Plus for free."]})]}),confirmLabel:o?"Confirm":void 0}},disableSteps:{disable:{customDisableCopy:(0,t.jsxs)(t.Fragment,{children:[c,"Disabling will take effect now, regardless of your billing cycle."]})},exitSurvey:C},disable:async()=>{s&&(await (0,P.patchObservabilityConfiguration)({team:s,enableTeam:!1,source:r}),await a())}};return s?.billing?.plan==="enterprise"&&(0,_.isLegacyPlanIteration)(s?.billing?.planIteration)&&(d.disableSteps.disable.customDisableModal=(0,t.jsxs)(t.Fragment,{children:[c,"Please reach out to your account executive to disable Observability Plus."]})),l||(d.enableSteps.postConfirmConfiguration={instructions:null,content:(0,t.jsx)(I,{})}),d}({hasOnlyMonitoring:r,team:s,refresh:l,source:e.analyticsEventSource,skipPostConfirm:e.skipPostConfirm,applyPromotion:o}),...e,isEnabled:()=>a},{isEnabled:f,openEnableOrUpdateModal:p,openDisableModal:g,AddOnModal:y,formattedPrice:h}=(0,S.useTogglePaidAddOn)(m);return d&&(n=c?.length?`${c.length} project${1===c.length?"":"s"} excluded`:"Manage projects"),{addOn:m,isObservabilityPlusEnabled:f,enableObservabilityPlus:p,disableObservabilityPlus:g,ObservabilityPlusModal:y,pricingCopy:`${h} / month`,configureUIText:n}}],5568858)},6728635,2630141,e=>{"use strict";var t=e.i(7292788);e.i(6483798);var i=e.i(8287059),n=e.i(854682),s=e.i(5568858),r=e.i(6232213),a=e.i(5338940),l=e.i(1002660),o=e.i(8583659);e.i(3233e3);var c=e.i(1509029),d=e.i(7114658),u=e.i(57106),m=e.i(1717203),f=e.i(7557283),p=e.i(9722978),g=e.i(3306538),y=e.i(6891161),h=e.i(8522580),b=e.i(5255926),x=e.i(5468328),v=e.i(1438473),j=e.i(199192),C=e.i(2988836),w=e.i(7749365),P=e.i(4333930),A=e.i(3228096),O=e.i(787358),N=e.i(762945),S=e.i(218692),_=e.i(6675233),I=e.i(4099936),E=e.i(682502),D=e.i(150374),k=e.i(455575),M=e.i(8914449);e.i(5202960);var L=e.i(6880199),B=e.i(4496450);let F=Object.fromEntries(Object.entries({p75DurationMs:"function-performance",functionDurationMs:"function-performance"}).map(e=>{let[t,i]=e;return[t.toLowerCase(),i]})),T={step:"choose",isEnabling:!1},H=(0,M.create)((e,t)=>({step:"closed",team:null,projectId:null,plan:"hobby",isTrialing:!1,isEnabling:!1,isLegacyEnt:!1,hasOnlyMonitoring:!1,openedFrom:!1,setProps:t=>{let{team:i,...n}=t,s=i?.billing?.plan??"hobby";e({...n,team:i,plan:s,isTrialing:"pro"===s&&i?.billing?.status==="trialing"})},open:function(){let{from:i="observability",via:n,upgradeUseCase:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{team:r,onOpen:a,isTrialing:l,plan:o}=t(),c=r?.billing?.plan==="enterprise"&&!(0,B.isOnUnbundledPricingPlan)(r);e({...T,source:n,upgradeUseCase:s,openedFrom:i,isLegacyEnt:c}),a?.({from:i||void 0,via:n,legacyEnt:c,teamUpgrade:l||"hobby"===o,upgradeUseCase:s})},close:()=>{e({step:"closed"})},doNext:async()=>{let{isEnabling:i,isLegacyEnt:n,isTrialing:s,plan:r,step:a,team:l,onContactSupport:o,onOpenTeamUpgrade:c,onSuccess:d,onConversion:u,source:m,onNext:f,openedFrom:p,upgradeUseCase:g}=t();if(l&&!i){if("choose"===a&&"pro"===r&&!s){f?.({from:p||void 0,via:m,teamUpgrade:!1,upgradeUseCase:g}),e({step:"paid-addon"});return}if("choose"===a){if("hobby"===r||s)f?.({from:p||void 0,via:m,teamUpgrade:!0,upgradeUseCase:g}),c?.({addOn:{additionalConfigurations:{team:l,source:"enable-modal"},type:"observabilityPlus"},disabledSteps:["team-members"],forceImmediateUpgrade:s,source:`observability-enable-modal${m?`-${m}`:""}`,teamHint:l.id,trialBehavior:"disallow-trial",onConversionSuccess:()=>{u?.({from:p||void 0,via:m,teamUpgrade:!0,upgradeUseCase:g}),d?.({team:l})},onAbandon:t=>{t&&e({step:"closed"})}});else if(n)f?.({from:p||void 0,via:m,legacyEnt:!0,upgradeUseCase:g}),o?.({team:l});else if("enterprise"===r){f?.({from:p||void 0,via:m,upgradeUseCase:g}),e({isEnabling:!0});try{await (0,L.patchObservabilityConfiguration)({team:l,enableTeam:!0,source:"enable-modal"}),k.toasts.success("Enabled Observability Plus.")}catch(t){e({isEnabling:!1}),k.toasts.error(`Failed to enable Observability Plus${t instanceof Error?`: ${t.message}`:""}`);return}d?.({team:l}),u?.({from:p||void 0,via:m,teamUpgrade:!1,upgradeUseCase:g})}e({step:"closed",isEnabling:!1})}}}}));e.s(["getUpgradeUseCaseForColumn",0,function(e){return F[e.toLowerCase()]},"useModalState",0,H,"useOpenEnableModal",0,()=>H(e=>e.open)],2630141);var V=e.i(3570807),R=e.i(794055),U=e.i(6143247);let $={incomingRequest:{label:"Edge Requests",description:"All requests received by the Vercel Edge Network"},outgoingRequest:{label:"External API Requests",description:"All HTTP requests made by your functions to external APIs"},functionExecution:{label:"Function Executions",description:"All executions of your Serverless and Edge Functions"},middlewareInvocation:{label:"Middleware Invocations",description:"All Edge and Node.js Middleware invocations"},aiGatewayRequest:{label:"AI Gateway Requests",description:"All requests made to the AI Gateway"}},G=e=>{let t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e);return t.endsWith(".00")?t.slice(0,-3):t},q=e=>{let t=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e),i=t.endsWith(".00")?t.slice(0,-3):t;return`${i} MIU`},Z=[{icon:N.Warning,title:"Anomaly Alerts",description:"Get notified when a function starts failing or usage spikes."},{icon:w.Clock,title:"30 days retention",description:"Explore data of the past 30 days across Observability and Logs."},{icon:S.LineChart,title:"Custom Queries",description:"Find exactly what you are looking for with custom queries."},{icon:D.Notebook,title:"Notebooks",description:"Save and share queries to collaborate with your team."},{icon:A.Globe,title:"External APIs Insights",description:"Dig deep into external API requests made by your functions."},{icon:P.FunctionSquare,title:"Advanced Insights",description:"Unlock insights into latency, middleware, and external APIs."}],W={"function-performance":{title:["Get insights into ",{text:"Function Performance",icon:P.FunctionSquare}]},function:{title:["Get deeper insights into ",{text:"Functions",icon:P.FunctionSquare}]},"middleware-performance":{title:["Get insights into ",{text:"Middleware Performance",icon:O.FunctionMiddleware}]},"external-apis":{title:["Get insights into ",{text:"External APIs",icon:A.Globe}]},retention:{title:["Unlock ",{text:"30 days of retention",icon:w.Clock}]},"anomaly-alerts":{title:["Be alerted when ",{text:"Anomalies",icon:N.Warning}," arise"],color:"amber"},"query-builder":{title:["Explore your data using ",{text:"Queries",icon:S.LineChart}],color:"pink"},"bot-insights":{title:["Get insights into ",{text:"Bots",icon:_.Robot}]},"blob-insights":{title:["Get deeper insights into ",{text:"Blob",icon:I.Blob}]},rewrites:{title:["Get insights into ",{text:"External Rewrites",icon:E.ArrowCrossed}]}};function z(e){let{upgradeUseCase:i}=e,n=W[i],s=n.color||"blue";return(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold leading-relaxed",children:n.title.map(e=>"string"==typeof e?(0,t.jsx)("span",{children:e},e):(0,t.jsxs)("span",{className:(0,p.clsx)("inline-flex items-center gap-1 rounded-sm px-1.5 text-[1.4rem] translate-y-px","blue"===s&&"text-blue-700 bg-blue-100","amber"===s&&"text-amber-800 bg-amber-100","pink"===s&&"text-pink-700 bg-pink-100"),children:[e.icon&&(0,t.jsx)(e.icon,{size:18}),e.text]},e.text))}),(0,t.jsx)("div",{className:"text-2xl font-semibold",children:"with Observability Plus"})]})}function Y(){return(0,t.jsx)("div",{className:"grid grid-cols-2 gap-x-8 gap-y-7 px-1 py-3 mb-4",children:Z.map(e=>{let i=e.icon;return(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(i,{color:"gray-900",size:16}),(0,t.jsx)("span",{className:"text-[15px] font-semibold text-gray-1000",children:e.title})]}),(0,t.jsx)("p",{className:"text-[14px] leading-relaxed text-gray-900",children:e.description})]},e.title)})})}function Q(e){let{metric:i,count:n,loading:s}=e,r=$[i];return(0,t.jsxs)(o.default.Fragment,{children:[(0,t.jsxs)("span",{className:"flex items-center gap-1 text-sm text-gray-900",children:[r.label,r.description?(0,t.jsx)(x.Tooltip,{text:r.description,children:(0,t.jsx)(C.InformationFillSmall,{color:"gray-900"})}):null]}),s||void 0===n?(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(b.Skeleton,{height:10,width:35})}):(0,t.jsx)("span",{className:"text-right text-sm text-gray-900",children:(+n).toLocaleString()})]},i)}function K(e){let{onClose:i,applyPromotion:n}=e,s=(0,V.useIncludedAndExcludedProjectWithUsageEvents)(),{observabilityUsage:r,totalExcludedProjects:a,totalEvents:l}=s,x=(0,d.useObservabilityPlusForProjectsFlag)(),{doNext:v,hasOnlyMonitoring:C,team:w,plan:P,upgradeUseCase:A}=H(),O=H(X),N=H(e=>e.isLegacyEnt),S=H(ee),{can:_,isLoading:I}=(0,m.default)(),E=(0,o.useMemo)(()=>!I&&_(f.Action.Update,f.Resource.ObservabilityConfiguration),[I,_]),D="enterprise"===P,k=(0,B.usesMiuPricing)(w?.billing)?q:G,M=void 0!==l?Math.max(0,l-1e6):void 0,L=void 0!==M?M/1e6*1.2:void 0,F=void 0!==L?10*!D+L:void 0;return(0,t.jsxs)(y.Modal.Modal,{width:640,active:!0,onClickOutside:i,children:[(0,t.jsxs)(y.Modal.Body,{className:(0,U.cn)("tailwind-preflight","[--modal-padding:1.5rem_!important] md:[--modal-padding:3rem_!important]"),children:[A?(0,t.jsx)("div",{className:(0,p.clsx)("h-24 w-full absolute top-0 inset-x-0 to-transparent bg-gradient-to-b hidden md:block","amber"===W[A].color?"from-amber-100":"pink"===W[A].color?"from-pink-100":"from-blue-100")}):(0,t.jsx)(R.NorthernLights,{className:"hidden md:block"}),(0,t.jsx)(y.Modal.Header,{children:(0,t.jsx)(y.Modal.Title,{className:"px-1 relative",children:A?(0,t.jsx)(z,{upgradeUseCase:A}):S})}),(0,t.jsx)(Y,{}),(0,t.jsxs)("div",{className:"mb-4",children:["Get more information about"," ",(0,t.jsx)(u.Link,{external:!0,href:"/docs/observability/observability-plus",variant:"highlight",children:"Observability Plus"}),"."]}),n&&(0,t.jsxs)(h.Note,{fill:!0,type:"success",label:!1,className:"my-4",children:[(0,t.jsx)(g.Badge,{className:"mr-2 bg-blue-800",capitalize:!1,children:"Black Friday / Cyber Monday"}),"Get ",(0,t.jsx)("span",{className:"font-bold",children:"your first month"})," of Observability Plus for free."]}),x?(0,t.jsx)("div",{className:"mt-2 flex flex-col",children:(0,t.jsxs)("details",{className:"group -mx-2 overflow-hidden rounded border",children:[(0,t.jsxs)("summary",{className:"flex cursor-pointer list-none items-center justify-between p-3 transition-opacity hover:opacity-80 leading-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"transition-transform group-open:rotate-90",children:(0,t.jsx)(j.ChevronRightSmall,{})}),(0,t.jsx)("span",{className:"font-medium text-gray-1000",children:"Included Projects"})]}),(0,t.jsx)("span",{className:"flex items-center gap-1 text-gray-900",children:a>0?`${a} Project${a>1?"s":""} excluded `:"All Projects"})]}),(0,t.jsx)("div",{className:"col-span-2 border-t bg-background-200 p-3 py-3.5 pl-9 tabular-nums space-y-2",children:(0,t.jsx)(V.ProjectListWithUsageEvents,{...s,canConfigure:E})})]})}):null,(0,t.jsxs)("div",{className:"mt-2 flex flex-col",children:[(0,t.jsxs)("details",{className:"group -mx-2 overflow-hidden rounded border",children:[(0,t.jsxs)("summary",{className:"flex cursor-pointer list-none items-center justify-between p-3 transition-opacity hover:opacity-80 leading-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"transition-transform group-open:rotate-90",children:(0,t.jsx)(j.ChevronRightSmall,{})}),(0,t.jsxs)("span",{className:"font-medium text-gray-1000",children:[C?"Observability":""," Cost Estimate*",(0,t.jsxs)("div",{className:"text-label-13 text-gray-900 leading-[18px]",children:[D?null:(0,t.jsxs)(t.Fragment,{children:[k(10)," per month + "]}),k(1.2)," per million events"]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[n?(0,t.jsx)("span",{className:"text-blue-700 font-medium",children:"First month free"}):null,(0,t.jsxs)("span",{className:(0,U.cn)("flex items-center gap-1",n?"text-gray-900":"font-medium text-gray-1000"),children:[void 0!==F?`${n?"then ":""}~ ${k(F)}`:(0,t.jsx)(b.Skeleton,{height:18,width:30})," ",(0,t.jsx)("span",{children:"/ month"})]})]})]}),(0,t.jsxs)("div",{className:"",children:[(0,t.jsxs)("div",{className:(0,p.clsx)("ml-0 grid grid-cols-[2fr,1fr] items-center gap-x-1 gap-y-3 border-t border-dashed p-3 pl-9"),children:[D?null:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-gray-1000 text-sm",children:"Base Price"}),w?.billing?.planIteration!=="plus"&&(0,t.jsx)("span",{className:"text-label-13 text-gray-900",children:"Includes 1 million events, across all projects"})]}),(0,t.jsxs)("span",{className:"text-right text-sm text-gray-900",children:[k(10)," / month"]})]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-gray-1000 text-sm",children:"Additional Events"}),(0,t.jsxs)("span",{className:"text-xs text-gray-900",children:[(0,t.jsx)("span",{children:void 0!==M?M?M.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:2}):"0":(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(b.Skeleton,{className:"mr-2 inline-block h-2 w-16 translate-y-0.5",height:12,width:20})})})," ","additional events  ",k(1.2)," per million"]})]}),(0,t.jsx)("span",{className:"text-right text-gray-900",children:void 0!==L?L?k(L):"No additional cost":(0,t.jsx)(b.Skeleton,{className:"inline-block",height:18,width:30})})]}),(0,t.jsx)("div",{className:"col-span-2 border-t bg-background-200 p-3 py-3.5 pl-9 tabular-nums space-y-2",children:x?(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-1000",children:"Total events in the last 30 days"}),void 0!==l?(0,t.jsx)("span",{className:"text-right text-sm text-gray-1000",children:l.toLocaleString()}):(0,t.jsx)(b.Skeleton,{height:18,width:50})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-1000",children:"Total events in the last 30 days"}),void 0!==l?(0,t.jsx)("span",{className:"text-right text-sm text-gray-1000",children:l.toLocaleString()}):(0,t.jsx)(b.Skeleton,{height:18,width:50})]}),(0,t.jsx)("div",{className:"grid grid-cols-[2fr,1fr] gap-x-4 gap-y-1",children:r?.eventBreakdown?Object.entries(r.eventBreakdown).map(e=>{let[i,n]=e;return(0,t.jsx)(Q,{count:n,metric:i},i)}):(0,t.jsx)(t.Fragment,{children:c.MeteredEvents.map(e=>(0,t.jsx)(Q,{loading:!0,metric:e},e))})})]})})]}),(0,t.jsx)("div",{className:"px-4 text-gray-800 pb-2 text-xs bg-background-200 pl-10",children:"* Estimate is based on your team's activity over the last 30 days. The actual cost will vary depending on future usage patterns."})]}),C?(0,t.jsxs)(h.Note,{className:"-mx-2 mt-6",type:"violet",fill:!0,children:["By migrating, your team's existing Monitoring package will be replaced by Observability Plus","pro"===P?(0,t.jsx)(t.Fragment,{children:". The price per million events has already been reduced to $1.20. The base fee remains $10."}):null]}):null,"hobby"===P?(0,t.jsx)(h.Note,{className:"-mx-2 mt-8",type:"violet",fill:!0,children:"Upgrading to Observability Plus requires a paid plan."}):null,N?(0,t.jsx)(h.Note,{className:"-mx-2 mt-2",type:"cyan",children:"To enable Observability Plus, please contact your account executive."}):null]})]}),(0,t.jsxs)(y.Modal.Actions,{children:[(0,t.jsx)(y.Modal.Action,{onClick:i,type:"secondary",children:"Dismiss"}),!N&&(0,t.jsx)(J,{text:E?void 0:"Please ask your team owners",children:(0,t.jsx)(y.Modal.Action,{disabled:!E,loading:O.loading,onClick:()=>void v(),suffix:O.suffix,type:O.type,children:O.label})})]})]})}function J(e){let{text:i,children:n}=e;return i?(0,t.jsx)(x.Tooltip,{text:i,children:n}):n}function X(e){let{plan:i,hasOnlyMonitoring:n,isEnabling:s}=e;return"enterprise"===i?{loading:s,label:n?"Confirm and Migrate":"Confirm"}:{label:"Continue",suffix:(0,t.jsx)(v.ArrowRight,{})}}function ee(e){let{plan:t,hasOnlyMonitoring:i}=e;return i?"Migrate from Monitoring to Observability Plus":"hobby"===t?"Upgrade to Pro and Observability Plus":"Upgrade to Observability Plus"}e.i(3182268);var et=e.i(7849855);function ei(e){let{onClose:i}=e,{projectSlug:n}=(0,et.useProjectSlug)(),{toggleObservabilityPlusForProject:s}=(0,d.useObservabilityPlusForProjects)(),[r,a]=(0,o.useTransition)();return(0,t.jsxs)(y.Modal.Modal,{active:!0,onClickOutside:i,children:[(0,t.jsxs)(y.Modal.Body,{className:"tailwind-preflight",children:[(0,t.jsx)(y.Modal.Header,{children:(0,t.jsx)(y.Modal.Title,{className:"px-1",children:"Include Project in Observability Plus"})}),(0,t.jsxs)("p",{className:"text-copy-14",children:["Include ",(0,t.jsx)("span",{className:"font-medium",children:n})," in Observability Plus to unlock advanced features. This will incur additional event usage."]})]}),(0,t.jsxs)(y.Modal.Actions,{children:[(0,t.jsx)(y.Modal.Action,{onClick:i,type:"secondary",children:"Cancel"}),(0,t.jsx)(y.Modal.Action,{loading:r,onClick:()=>{n&&a(async()=>{await s({projectName:n,disabled:!1}),i()})},children:"Include Project"})]})]})}var en=e.i(1961637),es=e.i(7837522),er=e.i(7780974);e.s(["EnableModal",0,function(){let{setProps:e,step:c,close:d,open:u,openedFrom:m,source:f,upgradeUseCase:p}=H(),{team:g}=(0,a.useTeam)(),y=(0,l.useRouter)(),{track:h}=(0,es.useTrackActivity)(),{hasOnlyMonitoring:b,mutate:x,hasObservabilityPlusAccessOnCurrentProject:v,hasObservabilityPlusAccess:j,ready:C,applyPromotion:w}=(0,n.useHasObservabilityPlus)(),P=(0,o.useCallback)(()=>{x(),y.refresh()},[y,x]),A=(0,o.useCallback)(e=>{y.push(`/help?teamSlug=${e.team.slug}`)},[y]),{enableObservabilityPlus:O,ObservabilityPlusModal:N}=(0,s.useToggleObservabilityPlus)({analyticsEventSource:"enable-modal",onSuccess:()=>{P(),E({from:m||void 0,via:f,teamUpgrade:!1,upgradeUseCase:p})},onClose:e=>{d(),e&&u({from:m||void 0,via:f,upgradeUseCase:p})},skipPostConfirm:!0}),S=(0,i.useOpenUpgradeModal)(),_=(0,o.useCallback)(e=>{h(er.VercelActivityAction.ObservabilityPlusModalOpened,e),(0,en.track)("Observability Upsell Clicked",{region:e.via??e.from??null,upgradeUseCase:e.upgradeUseCase??null})},[h]),I=(0,o.useCallback)(e=>{h(er.VercelActivityAction.ObservabilityPlusModalContinued,e)},[h]),E=(0,o.useCallback)(e=>{h(er.VercelActivityAction.ObservabilityPlusModalConverted,e),(0,en.track)("Observability Plus Conversion",{via:e.via??null,from:e.from??null,region:e.via??e.from??null,upgradeUseCase:e.upgradeUseCase??null,plan:g?.billing?.plan??"hobby"}),(0,r.postToStatsigClient)({events:[{eventName:"observability_plus_conversion",metadata:{via:e.via??""}}]})},[h,g?.billing?.plan]);return((0,o.useEffect)(()=>e({team:g,hasOnlyMonitoring:b,onContactSupport:A,onOpenTeamUpgrade:S,onSuccess:P,onOpen:_,onNext:I,onConversion:E}),[b,A,S,P,e,g,_,I,E]),(0,o.useEffect)(()=>{"paid-addon"===c&&O?.()},[O,c]),"choose"===c&&C&&j&&!v)?(0,t.jsx)(ei,{onClose:d}):(0,t.jsxs)(t.Fragment,{children:["choose"===c?(0,t.jsx)(K,{onClose:d,applyPromotion:w}):null,"paid-addon"===c?N:null]})}],6728635)}]);

//# debugId=1ee9565c-4b5e-c695-2e4e-0d28e496ccf1
//# sourceMappingURL=799079546a4cbf61.js.map